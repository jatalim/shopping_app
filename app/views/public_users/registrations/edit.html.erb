<%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
  <%= f.error_notification %>

  <div id="loginbox" style="margin-top:50px;" class="mainbox col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">               

         <div class="panel panel-info" >

            <div class="panel-heading">

                <div class="panel-title">Edit Your Details</div>
                    
            </div>     

                <div style="padding-top:30px" class="panel-body" >
            
          <div style="display:none" id="login-alert" class="alert alert-danger col-sm-12">  
          </div>
                            
                    <form id="loginform" class="form-horizontal" role="form">
                                    
                      <div style="margin-bottom: 25px" class="input-group">
                          <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i>
                          </span>
                              <%= f.email_field :email, required: false, autofocus: true, :class => "form-control", :placeholder => "email" %>
                              <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                              <p>Currently waiting confirmation for: <%= resource.unconfirmed_email %></p>
                              <% end %>     
                      </div>

                      <div style="margin-bottom: 25px" class="input-group">
                           <span class="input-group-addon">
                            <i class="glyphicon glyphicon-lock">
                            </i>
                          </span>
                               <%= f.password_field :password, required: false, hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length), :class => "form-control", :placeholder => "Leave blank if you do not want to change your password" %>  
                      </div>

                      <div style="margin-bottom: 25px" class="input-group">
                           <span class="input-group-addon">
                            <i class="glyphicon glyphicon-lock">
                            </i>
                          </span>
                               <%= f.password_field :password_confirmation, required: false, hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length), :class => "form-control", :placeholder => "Confirm new password" %>  
                      </div>

                      <div style="margin-bottom: 25px" class="input-group">
                           <span class="input-group-addon">
                            <i class="glyphicon glyphicon-lock">
                            </i>
                          </span>
                               <%= f.password_field :current_password, required: true, hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length), :class => "form-control", :placeholder => "We need your current password to confirm your changes!!" %>  
                      </div>

                      <div style="margin-top:10px" class="form-group">
                          <div class="col-sm-12 controls">
                              <%= f.button :submit, "Save Changes", class: "btn btn-success btn-lg btn-block pull-right" %>
                          </div>
                      </div>

  <div class="form-inputs">
    <%= f.input :email, required: true, autofocus: true %>

    

    <%= f.input :password, autocomplete: "off", hint: "leave it blank if you don't want to change it", required: false %>
    <%= f.input :password_confirmation, required: false %>
    <%= f.input :current_password, hint: "We need your current password to confirm your changes", required: true %>
  </div>

  <div class="form-actions">
    <%= f.button :submit, "Update" %>
  </div>
<% end %>

<h3>Cancel my account</h3>

<p>Unhappy? <%= link_to "Cancel my account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete %></p>

<%= link_to "Back", :back %>